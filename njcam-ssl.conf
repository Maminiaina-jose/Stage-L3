<VirtualHost *:443>
    ServerName njcam.com
    DocumentRoot /var/www/NJCAM/njcam/dist

    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/njcam.crt
    SSLCertificateKeyFile /etc/ssl/private/njcam.key

    <Directory /var/www/NJCAM/njcam/dist>
        AllowOverride All
        Require all granted

        # Définir la politique de sécurité du contenu
        Header set Content-Security-Policy "default-src 'self'; img-src 'self' https://your-image-source.com https://fastly.picsum.photos https://via.placeholder.com 'data:'; style-src 'self' https://fonts.googleapis.com 'unsafe-inline'; style-src-elem 'self' https://fonts.googleapis.com 'unsafe-inline'; font-src 'self' https://fonts.gstatic.com data:;"
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/njcam_error.log
    CustomLog ${APACHE_LOG_DIR}/njcam_access.log combined
</VirtualHost>
